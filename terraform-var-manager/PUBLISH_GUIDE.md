#!/bin/bash
# PyPI Publication Guide for terraform-var-manager

echo "ðŸš€ PyPI Publication Preparation Checklist"
echo "=========================================="

echo ""
echo "ðŸ“‹ Pre-Publication Steps:"
echo "1. Create PyPI account at https://pypi.org/account/register/"
echo "2. Create TestPyPI account at https://test.pypi.org/account/register/"
echo "3. Generate API tokens for both accounts"
echo "4. Configure UV with credentials"

echo ""
echo "ðŸ”§ Configuration Commands:"
echo ""
echo "# Set PyPI credentials"
echo "uv config --set pypi.token xxxxxx"
echo ""
echo "# Or create .pypirc file:"
echo "cat > ~/.pypirc << EOF"
echo "[distutils]"
echo "index-servers = pypi testpypi"
echo ""
echo "[pypi]"
echo "repository = https://upload.pypi.org/legacy/"
echo "username = __token__"
echo "password = pypi-your-api-token"
echo ""
echo "[testpypi]"
echo "repository = https://test.pypi.org/legacy/"
echo "username = __token__"
echo "password = pypi-your-testpypi-token"
echo "EOF"

echo ""
echo "ðŸ“¦ Publication Commands:"
echo ""
echo "# Test on TestPyPI first"
echo "uv build"
echo "uv publish --repository testpypi"
echo ""
echo "# Test installation from TestPyPI"
echo "pip install --index-url https://test.pypi.org/simple/ terraform-var-manager"
echo ""
echo "# Publish to real PyPI"
echo "uv publish"
echo ""
echo "# Verify installation"
echo "pip install terraform-var-manager"

echo ""
echo "ðŸŽ¯ Next Steps:"
echo "1. Complete any remaining tests"
echo "2. Update version in pyproject.toml if needed"
echo "3. Create git tag for release"
echo "4. Follow the commands above"
echo "5. Monitor PyPI for successful publication"

echo ""
echo "âœ¨ Your package is ready for publication!"
